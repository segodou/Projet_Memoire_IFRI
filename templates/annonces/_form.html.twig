{{ form_start(monFormulaire) }}

    <div class="card">
        <div class="card-header bg-primary text-white">
            <strong><i class="bi bi-house-door"></i> Informations relatives au Bien</strong>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6"><b>{{ form_row(monFormulaire.title) }}</b></div>
                <div class="col-md-3"><b>{{ form_row(monFormulaire.surface) }}</b></div>
                <div class="col-md-3"><b>{{ form_row(monFormulaire.price) }}</b></div>
            </div>
            <div class="row">
                <div class="col-md-4"><b>{{ form_row(monFormulaire.type) }}</b></div>
                <div class="col-md-4"><b>{{ form_row(monFormulaire.rooms) }}</b></div>
                <div class="col-md-4"><b>{{ form_row(monFormulaire.bedrooms) }}</b></div>
            </div>
            <div class="row">
                <div class="col-md-8"><b>{{ form_row(monFormulaire.location) }}</b></div>
                <div class="mt-5 col-md-4"><b>{{ form_row(monFormulaire.sold) }}</b></div>
                <div class="mt-5 col-md-4 hidden" style="display : none;"><b>{{ form_row(monFormulaire.approved) }}</b></div>               
            </div>
            <div class="row">
                <div class="col-md-12"><b>{{ form_row(monFormulaire.description) }}</b></div>
            </div>
            
            {% if app.request.attributes.get('_route') == 'app_annonces_edit' %}
                <div class="hidden" style="display : none;">
                    <div class="row">
                        <div class="col-md-6"><b>{{ form_row(monFormulaire.departement) }}</b></div>
                        <div class="col-md-6"><b>{{ form_row(monFormulaire.commune) }}</b></div>
                    </div>
                    <div class="row">
                        <div class="col-md-6"><b>{{ form_row(monFormulaire.arrondissement) }}</b></div>
                        <div class="col-md-6"><b>{{ form_row(monFormulaire.quartier) }}</b></div>
                    </div>
                </div>
            {% else %}
                <div class="row">
                    <div class="col-md-6"><b>{{ form_row(monFormulaire.departement) }}</b></div>
                    <div class="col-md-6"><b>{{ form_row(monFormulaire.commune) }}</b></div>
                </div>
                <div class="row">
                    <div class="col-md-6"><b>{{ form_row(monFormulaire.arrondissement) }}</b></div>
                    <div class="col-md-6"><b>{{ form_row(monFormulaire.quartier) }}</b></div>
                </div>
            {% endif %}

            <div class="row">
                <div class="col-md-12"><b>{{ form_row(monFormulaire.images) }}</b></div>
            </div>
        </div>
    </div>

    {% if app.request.attributes.get('_route') == 'app_annonces_edit' %}
        <div class="hidden" style="display : none;">
            <div class="card mt-5">
                <div class="card-header bg-primary text-white">
                    <strong>Marché proche du Bien</strong>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6"><b>{{ form_row(monFormulaire.titleM) }}</b></div>
                        <div class="col-md-6"><b>{{ form_row(monFormulaire.adresseM) }}</b></div>
                    </div>
                    <div class="row">
                        <div class="col-md-12"><b>{{ form_row(monFormulaire.descriptionM) }}</b></div>
                    </div>
                </div>
            </div>

            <div class="card mt-5">
                <div class="card-header bg-primary text-white">
                    <strong>Etablissement d'enseignement proche du Bien</strong>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6"><b>{{ form_row(monFormulaire.titleS) }}</b></div>
                        <div class="col-md-6"><b>{{ form_row(monFormulaire.adresseS) }}</b></div>
                    </div>
                    <div class="row">
                        <div class="col-md-12"><b>{{ form_row(monFormulaire.descriptionS) }}</b></div>
                    </div>
                </div>
            </div>

            <div class="card mt-5">
                <div class="card-header bg-primary text-white">
                    <strong>Centre de santé proche du Bien</strong>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6"><b>{{ form_row(monFormulaire.titleH) }}</b></div>
                        <div class="col-md-6"><b>{{ form_row(monFormulaire.adresseH) }}</b></div>
                    </div>
                    <div class="row">
                        <div class="col-md-12"><b>{{ form_row(monFormulaire.descriptionH) }}</b></div>
                    </div>
                </div>
            </div>

            <div class="card mt-5">
                <div class="card-header bg-primary text-white">
                    <strong>Supermarché proche du Bien</strong>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6"><b>{{ form_row(monFormulaire.titleSM) }}</b></div>
                        <div class="col-md-6"><b>{{ form_row(monFormulaire.adresseSM) }}</b></div>
                    </div>
                    <div class="row">
                        <div class="col-md-12"><b>{{ form_row(monFormulaire.descriptionSM) }}</b></div>
                    </div>
                </div>
            </div>

            <div class="card mt-5">
                <div class="card-header bg-primary text-white">
                    <strong>Restaurant proche du Bien</strong>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6"><b>{{ form_row(monFormulaire.titleR) }}</b></div>
                        <div class="col-md-6"><b>{{ form_row(monFormulaire.adresseR) }}</b></div>
                    </div>
                    <div class="row">
                        <div class="col-md-12"><b>{{ form_row(monFormulaire.descriptionR) }}</b></div>
                    </div>
                </div>
            </div>
        </div>
    {% else %}
        <div class="card mt-5">
            <div class="card-header bg-primary text-white">
                <strong>Marché proche du Bien</strong>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6"><b>{{ form_row(monFormulaire.titleM) }}</b></div>
                    <div class="col-md-6"><b>{{ form_row(monFormulaire.adresseM) }}</b></div>
                </div>
                <div class="row">
                    <div class="col-md-12"><b>{{ form_row(monFormulaire.descriptionM) }}</b></div>
                </div>
            </div>
        </div>

        <div class="card mt-5">
            <div class="card-header bg-primary text-white">
                <strong>Etablissement d'enseignement proche du Bien</strong>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6"><b>{{ form_row(monFormulaire.titleS) }}</b></div>
                    <div class="col-md-6"><b>{{ form_row(monFormulaire.adresseS) }}</b></div>
                </div>
                <div class="row">
                    <div class="col-md-12"><b>{{ form_row(monFormulaire.descriptionS) }}</b></div>
                </div>
            </div>
        </div>

        <div class="card mt-5">
            <div class="card-header bg-primary text-white">
                <strong>Centre de santé proche du Bien</strong>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6"><b>{{ form_row(monFormulaire.titleH) }}</b></div>
                    <div class="col-md-6"><b>{{ form_row(monFormulaire.adresseH) }}</b></div>
                </div>
                <div class="row">
                    <div class="col-md-12"><b>{{ form_row(monFormulaire.descriptionH) }}</b></div>
                </div>
            </div>
        </div>

        <div class="card mt-5">
            <div class="card-header bg-primary text-white">
                <strong>Supermarché proche du Bien</strong>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6"><b>{{ form_row(monFormulaire.titleSM) }}</b></div>
                    <div class="col-md-6"><b>{{ form_row(monFormulaire.adresseSM) }}</b></div>
                </div>
                <div class="row">
                    <div class="col-md-12"><b>{{ form_row(monFormulaire.descriptionSM) }}</b></div>
                </div>
            </div>
        </div>

        <div class="card mt-5">
            <div class="card-header bg-primary text-white">
                <strong>Restaurant proche du Bien</strong>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6"><b>{{ form_row(monFormulaire.titleR) }}</b></div>
                    <div class="col-md-6"><b>{{ form_row(monFormulaire.adresseR) }}</b></div>
                </div>
                <div class="row">
                    <div class="col-md-12"><b>{{ form_row(monFormulaire.descriptionR) }}</b></div>
                </div>
            </div>
        </div>
    {% endif %}

    {{ form_widget(monFormulaire) }}

     {# Vérifier si la route est "annonces_edit" on affiche les images #}
     {% if app.request.attributes.get('_route') == 'app_annonces_edit' %}
            <h2>Images</h2>
            <div class="row">
                {% for image in annonce.images %}
                    <div class="col-md-4 flex-column">
                        <img src="{{ asset('/uploads/annonces/' ~ image.name) }}" alt="Image" style="width:200px; height:auto;" 
                        class= "rounded shadow"> 
                    {#  <img src="{{ vich_uploader_asset(image)|imagine_filter('article')  }}" alt="Image"> #}
                        <a href="{{ path('annonces_delete_image', {'id': image.id}) }}" data-delete data-token="{{ csrf_token('delete' ~ image.id) }}">
                            <i class="bi bi-trash-fill" width="50" height="50" ></i>
                        </a>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
{#
    {% if app.request.attributes.get('_route') == 'app_annonces_edit' %}
        <input type="submit" value="Modifier l'annonce" formnovalidate class="btn btn-primary btn-block mt-3 mb-5">
    {% else %}
        <p class="mt-3 mb-3 pt-2 pb-2 pl-2 pr-2 bg-danger text-white"><span style="font-weight: bold;">Attention : </span>Veuillez bien vérifier les informations relatives au marché, 
        établissement, supermarché, centre de santé et restaurant. Une fois les données enregistrés, 
        vous n'aurez plus la possibilité de les modifier.
        </p>
        <input type="submit" value="Créer l'annonce" class="btn btn-primary btn-block mt-3 mb-5" formnovalidate>
    {% endif %}
#}
    <input type="submit" class="btn btn-primary btn-block mt-3 mb-5" value="{{submitButtonText ?? 'Créer l\'annonce'}}" formnovalidate>
    
{{ form_end(monFormulaire) }}